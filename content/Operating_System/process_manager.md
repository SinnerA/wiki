---
title: 进程管理
date: 2017-05-12
---

[TOC]

### 进程

进程是对一个正在运行的程序的抽象。

##### 进程地址空间

进程地址空间也是一个抽象概念，为每个进程提供了一个假象，即每个进程都独占地使用主存。如下图：

![进程地址空间](http://blog.chinaunix.net/attachment/201106/1/24774106_1306932530sZNP.png)

- 程序代码和数据

  一开始运行时就确定了大小，直接按照可执行目标文件的内容进行初始化

- 堆

  当调用malloc和free等函数时，堆可以在运行时动态的扩展和收缩

- 共享库

  用于存放像C标准库和数学库等共享库的代码和数据

- 栈

  编译器用它来实现函数调用，和堆一样，栈会动态变化。每次调用一个函数时，栈就会增长，函数返回时，便会收缩

- 内核虚拟存储器

  驻留在内存，是操作系统的一部分，不允许应用程序直接读写该区域

##### 进程切换

操作系统跟踪进程运行所需的所有状态信息，这些信息就是进程**上下文**，包括PC，寄存器的当前值，主存内容，栈指针，打开的文件描述符，环境变量等。

当操作系统进行进程切换时，就会进行上下文的切换，即保存当前进程的上下文，恢复新进程的上下文，然后将控制器传递到新进程，新进程从上次停止的地方开始继续运行。

上下文切换时，原先进程的上下文保存在PCB中，PCB加入就绪队列，等待重新调度。

进程切换是通过**系统调用**实现的，
